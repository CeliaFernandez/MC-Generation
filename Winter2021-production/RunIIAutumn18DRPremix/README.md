# Instructions to run

First install and scram the following CMSSW release with slc6_amd64_gcc530 architecture set:

```
export SCRAM_ARCH=slc6_amd64_gcc700

source /cvmfs/cms.cern.ch/cmsset_default.sh
if [ -r CMSSW_10_2_5/src ] ; then
  echo release CMSSW_10_2_5 already exists
else
  scram p CMSSW CMSSW_10_2_5
fi
cd CMSSW_10_2_5/src
eval `scram runtime -sh`

scram b
```
In this step the cfg files are alreade available in the repo, you can dowload them by running:
```
wget https://raw.githubusercontent.com/CeliaFernandez/MC-Generation/master/Winter2021-production/RunIIAutumn18DRPremix/EXO-RunIIAutumn18DRPremix-1_cfg.py
wget https://raw.githubusercontent.com/CeliaFernandez/MC-Generation/master/Winter2021-production/RunIIAutumn18DRPremix/EXO-RunIIAutumn18DRPremix-2_cfg.py
wget https://raw.githubusercontent.com/CeliaFernandez/MC-Generation/master/Winter2021-production/RunIIAutumn18DRPremix/create-crab_RunIIAutumn18DRPremix-1.py
wget https://raw.githubusercontent.com/CeliaFernandez/MC-Generation/master/Winter2021-production/RunIIAutumn18DRPremix/create-crab_RunIIAutumn18DRPremix-2.py
```


For the first step you must run the following command:
```
cmsDriver.py --python_filename EXO-RunIIAutumn18DRPremix-1_cfg.py --eventcontent PREMIXRAW --customise Configuration/DataProcessing/Utils.addMonitoring --datatier GEN-SIM-RAW --fileout file:EXO-RunIIAutumn18DRPremix.root --pileup_input dbs:/Neutrino_E-10_gun/RunIISummer17PrePremix-PUAutumn18_102X_upgrade2018_realistic_v15-v1/GEN-SIM-DIGI-RAW --conditions 102X_upgrade2018_realistic_v15 --step DIGI,DATAMIX,L1,DIGI2RAW,HLT:@relval2018 --procModifiers premix_stage2 --geometry DB:Extended --filein file:EXO-RunIIFall18wmLHEGS-04325.root --datamix PreMix --era Run2_2018 --no_exec --mc -n 10 
```

and for the second:
```
cmsDriver.py --python_filename EXO-RunIIAutumn18DRPremix-2_cfg.py --eventcontent AODSIM --customise Configuration/DataProcessing/Utils.addMonitoring --datatier AODSIM --fileout file:EXO-RunIIAutumn18DRPremix.root --conditions 102X_upgrade2018_realistic_v15 --step RAW2DIGI,L1Reco,RECO,RECOSIM,EI --procModifiers premix_stage2 --filein file:EXO-RunIIAutumn18DRPremix-04206_0.root --era Run2_2018 --runUnscheduled --no_exec --mc -n 10
```

The produced cfg files are general and will run for every mass point. Examples of this files can be found in this directory.

## Crab launching

The files to launch a crab3 production for this step are generated by running e.g. mH = 400 GeV, mX = 50 GeV and ctau = 1 mm:
```
python create-crab_RunIIAutumn18DRPremix-1.py -s 1 -d gen_dataset_name -H 400 -X 50 -T 1
```
and
```
python create-crab_RunIIAutumn18DRPremix-2.py -s 1 -d step1_dataset_name -H 400 -X 50 -T 1
```
