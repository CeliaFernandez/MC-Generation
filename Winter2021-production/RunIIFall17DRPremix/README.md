# Instructions to run

First install and scram the following CMSSW release with slc6_amd64_gcc530 architecture set:

```
export SCRAM_ARCH=slc6_amd64_gcc630

source /cvmfs/cms.cern.ch/cmsset_default.sh
if [ -r CMSSW_9_4_7/src ] ; then
  echo release CMSSW_9_4_7 already exists
else
  scram p CMSSW CMSSW_9_4_7
fi
cd CMSSW_9_4_7/src
eval `scram runtime -sh`

scram b
cd ../..
```
In this step the cfg files are alreade available in the repo, you can dowload them by running:
```
wget [path to be updated]
wget [path to be updated]
```


For the first step you must run the following command:
```
cmsDriver.py  --python_filename EXO-RunIIFall17DRPremix-1_cfg.py --eventcontent PREMIXRAW --customise Configuration/DataProcessing/Utils.addMonitoring --datatier GEN-SIM-RAW --fileout file:EXO-RunIIFall17DRPremix-1.root --pileup_input "dbs:/Neutrino_E-10_gun/RunIISummer17PrePremix-MCv2_correctPU_94X_mc2017_realistic_v9-v1/GEN-SIM-DIGI-RAW" --conditions 94X_mc2017_realistic_v11 --step DIGIPREMIX_S2,DATAMIX,L1,DIGI2RAW,HLT:2e34v40 --filein file:/afs/cern.ch/work/f/fernance/private/Long_Lived_Analysis/HTo2STo4L-production/2017-generation/CMSSW_9_3_18/src/EXO-RunIIFall17wmGS.root --datamix PreMix --era Run2_2017 --no_exec --mc -n 10
```

and for the second:
```
cmsDriver.py --python_filename EXO-RunIIFall17DRPremix-2_cfg.py --eventcontent AODSIM --customise Configuration/DataProcessing/Utils.addMonitoring --datatier AODSIM --fileout file:EXO-RunIIFall17DRPremix-2.root --conditions 94X_mc2017_realistic_v11 --step RAW2DIGI,RECO,RECOSIM,EI --filein file:EXO-RunIIFall17DRPremix-1.root --era Run2_2017 --runUnscheduled --no_exec --mc -n 10
```

The produced cfg files are general and will run for every mass point. Examples of this files can be found in this directory.

## Crab launching

The files to launch a crab3 production for this step are generated by running e.g. mH = 400 GeV, mX = 50 GeV and ctau = 1 mm:
```
python create-crab_RunIIFall17DRPremix-1.py -s 1 -d gen_dataset_name -H 400 -X 50 -T 1
```
and
```
python create-crab_RunIIFall17DRPremix-2.py -s 1 -d gen_dataset_name -H 400 -X 50 -T 1
```
